!function(o,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.jusfounDisasterMap=e():o.jusfounDisasterMap=e()}(this,function(){return function(o){function e(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return o[r].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var t={};return e.m=o,e.c=t,e.i=function(o){return o},e.d=function(o,t,r){e.o(o,t)||Object.defineProperty(o,t,{configurable:!1,enumerable:!0,get:r})},e.n=function(o){var t=o&&o.__esModule?function(){return o.default}:function(){return o};return e.d(t,"a",t),t},e.o=function(o,e){return Object.prototype.hasOwnProperty.call(o,e)},e.p="",e(e.s=1)}([function(o,e){var t=function(){this._nameMap={"山东":"shandong","陕西":"shanxi1"}};t.prototype={_dom:null,_chart:null,init:function(o){var e=this;if(!o||e._isEmpty(o))throw new Error("init方法参数为空.");if(o.dom.length?e._dom=o.dom[0]:e._dom=o.dom,!e._dom||!e._isDOM(e._dom))throw new Error("dom为空或者不是HTMLElement");e._chart=echarts.init(e._dom),e._icon=o.icon,e._disaster=o.disaster,e._areaColor=o.areaColor||"#fff",e._borderColor=o.borderColor||"#fff",e._dataAreaColor=o.dataAreaColor,e._iconSize=o.iconSize||[20,20],e._jsonUrl=o.jsonUrl,e._tooltipCallBack=o.tooltipCallBack||function(o){if("markPoint"==o.componentType)return"地区 : "+o.data.name+"<br />灾害类型 : "+o.data.message},e._option={tooltip:{type:"item",formatter:e._tooltipCallBack},series:[{name:"",type:"map",mapType:"",itemStyle:{normal:{areaColor:e._areaColor,borderColor:e._borderColor,label:{show:!1}},emphasis:{areaColor:e._areaColor,borderColor:e._borderColor,label:{show:!1}}},markPoint:{data:[]},data:[]}]}},show:function(o){var e=this;if(!o||e._isEmpty(o))throw new Error("show方法参数为空.");e._data=o.data||[],$.getJSON(e._jsonUrl+e._nameMap[o.mapType]+"-county.json",function(t){echarts.registerMap(e._nameMap[o.mapType],t);var r=e._option.series[0];r.name=o.mapType+"灾害分布",r.mapType=e._nameMap[o.mapType];var a=r.markPoint.data,n=r.data;a.length=0,n.length=0,e._data.forEach(function(o){n.push({name:o.name,itemStyle:{normal:{areaColor:e._dataAreaColor[o.level],label:{show:!1}},emphasis:{areaColor:e._dataAreaColor[o.level],label:{show:!1}}}}),a.push({name:o.name,coord:o.coord,message:e._disaster[o.level],symbol:"image://"+e._icon[o.level],symbolSize:e._iconSize,label:{normal:{show:!1},emphasis:{show:!1}}})}),e._chart.setOption(e._option,!0)})},hide:function(){},resize:function(){this._chart.resize()},_isEmpty:function(o){var e=null;for(e in o)return!1;return!0},_isDOM:function(o){return"object"==typeof HTMLElement?o instanceof HTMLElement:o&&"object"==typeof o&&1===o.nodeType&&"string"==typeof o.nodeName}},o.exports=t},function(o,e,t){e.DisasterMap=t(0)}])});