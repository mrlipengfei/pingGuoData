!function(t,o){"object"==typeof exports&&"object"==typeof module?module.exports=o():"function"==typeof define&&define.amd?define([],o):"object"==typeof exports?exports.jusfounChartMap=o():t.jusfounChartMap=o()}(this,function(){return function(t){function o(a){if(e[a])return e[a].exports;var r=e[a]={i:a,l:!1,exports:{}};return t[a].call(r.exports,r,r.exports,o),r.l=!0,r.exports}var e={};return o.m=t,o.c=e,o.i=function(t){return t},o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:a})},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},o.p="",o(o.s=1)}([function(t,o){var e=function(){};e.prototype={dom:null,chart:null,option:null,areaColor:null,type:null,name:null,isReady:!1,mapOption:function(t){var o=this;if(!t||o.isEmpty(t))throw new Error("参数为空.");o.dom=t.dom.length?t.dom[0]:t.dom,o.areaColor=t.areaColor,o.isMarkColor=t.isMarkColor,o.scaleLimitMin=t.scaleLimitMin,o.scaleLimitMax=t.scaleLimitMax,o.jsonWay=t.jsonWay,o.itemHeight=t.VisualMapItemHeight||20,o.itemWidth=t.VisualMapItemWidth||20,o.margin=t.VisualMapTextMargin||20,o.VisualMapText=t.VisualMapText||"",o.chart=echarts.init(o.dom),o.option={title:{text:o.VisualMapText,textStyle:{color:"#88C4FC",fontSize:14,fontWeight:"normal"},bottom:6*o.itemHeight+40+o.margin,left:20},tooltip:{formatter:t.tooltipFormatter,borderColor:"#8ac7ff",borderWidth:1,padding:[15,10],textStyle:{color:"#85C0F8",fontSize:14},extraCssText:"background:RGBA(34,58,131,0.8)"},visualMap:[{type:"piecewise",itemGap:0,splitNumber:6,inRange:{symbol:"rect",color:t.areaColor},outOfRange:{color:"#ffffff "},itemWidth:o.itemWidth,hoverLink:!1,textStyle:{color:"#88C4FC",fontSize:14},bottom:40,left:40}],series:[{type:"map",top:20,roam:!0,scaleLimit:{min:o.scaleLimitMin,max:o.scaleLimitMax},label:{normal:{show:!1},emphasis:{show:!1}},itemStyle:{normal:{areaColor:"#ffffff",color:"#ffffff"}},data:[]}]},o.markOption={tooltip:{formatter:t.tooltipFormatter,borderColor:"#8ac7ff",borderWidth:1,padding:[15,10],textStyle:{color:"#85C0F8",fontSize:14},extraCssText:"background:RGBA(34,58,131,0.8)"},visualMap:[{type:"piecewise",itemGap:0,splitNumber:1,inRange:{symbol:"rect",color:o.isMarkColor},itemWidth:o.itemWidth,itemHeight:o.itemHeight,hoverLink:!1,textStyle:{color:"#88C4FC",fontSize:14},bottom:40,left:40}],series:[{type:"map",top:20,roam:!0,label:{normal:{show:!1},emphasis:{show:!1}},scaleLimit:{min:o.scaleLimitMin,max:o.scaleLimitMax},itemStyle:{normal:{areaColor:"#ffffff",color:"#ffffff"},emphasis:{areaColor:"#ffffff",color:"#ffffff"}},markPoint:{},data:[]}]}},changeOption:function(t){var o=this;t&&!o.isEmpty(t)&&(o.option.visualMap[0].inRange.color=t.colors||o.areaColor,o.isMark=t.isMark,o.newText=t.VisualMapText,o.newColors=t.colors||o.areaColor,o.overColors=t.overColors||o.areaColor)},setMapType:function(t,o){var e=this;$.get(e.jsonWay+t+".json",function(o){echarts.registerMap(t,o),e.option.series[0].mapType=t,e.markOption.series[0].mapType=t,e.isReady=!0})},setData:function(t){function o(t){return t.length>1?{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:t[0]},{offset:1,color:t[t.length-1]}],globalCoord:!1}:t[0]}function e(t){return r.min==r.max?10:parseInt(t/Math.abs(r.max-r.min)*15+15)}function a(t){setTimeout(function(){r.isReady?r.chart.setOption(t,!0,!1,!0):a(t)},60)}var r=this;if(!t||r.isEmpty(t))throw new Error("setData方法的参数为空.");r.isMark?function(){var i=t.data;if(r.markOption.visualMap[0].splitNumber=1,r.markOption.visualMap[0].itemHeight=20,r.markOption.visualMap[0].inRange.color=r.isMarkColor,r.markOption.visualMap[0].pieces=[{label:r.newText||r.VisualMapText}],r.markOption.series[0].markPoint={symbol:"rect",label:{normal:{show:!1},emphasis:{show:!1}},itemStyle:{normal:{color:o(r.newColors),shadowBlur:3,shadowColor:"#000"},emphasis:{color:o(r.overColors),shadowBlur:3,shadowColor:"#000"}},data:[]},!i||!i.length)return r.markOption.series[0].markPoint.data.length=0,void a(r.markOption);i.sort(function(t,o){return o.value-t.value}),r.min=i[i.length-1].value,r.max=i[0].value,r.markOption.series[0].markPoint.data.length=0;for(var n=0;n<i.length;n++)r.markOption.series[0].markPoint.data.push({symbolSize:i[n].value?[10,e(i[n].value)]:[0,0],symbolOffset:i[n].value?[0,-e(i[n].value)/2]:[0,0],coord:i[n].cp,value:i[n].value,name:i[n].name});a(r.markOption)}():function(){var o=t.data;if(0==o.length)return r.option.visualMap[0].min=0,r.option.visualMap[0].max=0,r.option.visualMap[0].formatter=function(t,o){return parseFloat(t).toFixed(2)+"-"+parseFloat(o).toFixed(2)},r.option.series[0].data.length=0,void a(r.option);var e=0;r.chart.clear(),o.sort(function(t,o){return t.value-o.value});var i=o.map(function(t){return t.value});for(r.option.visualMap[0].pieces=function(t,o){var e=new Array,a=0,o=parseInt(o);if(!Array.isArray(t))throw new Error("参数一格式错误.");if(isNaN(o))throw new Error("参数二格式错误.");if(t.length<=1)return t;for(var r=Math.round(t.length/6);a<o;a++)e.push({min:t[a*r],max:t[(a+1)*r]||t[t.length-1]});return e}(i,6),r.option.series[0].data.length=0;e<o.length;e++)r.option.series[0].data.push({name:o[e].name,value:o[e].value});a(r.option)}()},on:function(t,o){this.chart.on(t,o)},resize:function(){this.chart.resize()},isEmpty:function(t){var o=null;for(o in t)return!1;return!0}},t.exports=e},function(t,o,e){o.ChartMap=e(0)}])});