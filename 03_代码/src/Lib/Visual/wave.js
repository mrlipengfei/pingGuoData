/*!
 * Some library v0.1.0
 * Powered by Jusfoun Visualization Department
 * Contact: 
 *   vd@jusfoun.com
 *   http://vd.jusfoun.com
 * 
 * Copyright (c) 2017, Jusfoun Big Data Group Inc.
 * All rights reserved.
 * 
 * LICENSE
 * http://www.jusfoun.com/software/LICENSE.txt
 */
!function(t,i){"object"==typeof exports&&"object"==typeof module?module.exports=i():"function"==typeof define&&define.amd?define("LibraryWave",[],i):"object"==typeof exports?exports.LibraryWave=i():t.LibraryWave=i()}(this,function(){return function(t){function i(e){if(s[e])return s[e].exports;var h=s[e]={exports:{},id:e,loaded:!1};return t[e].call(h.exports,h,h.exports,i),h.loaded=!0,h.exports}var s={};return i.m=t,i.c=s,i.p="",i(0)}([function(t,i,s){i.waveLeft=s(1),i.waveRight=s(2)},function(t,i){function s(t){this.opt=t||{},this.K=2,this.F=6,this.speed=this.opt.speed||.1,this.noise=this.opt.noise||0,this.phase=this.opt.phase||0,devicePixelRatio||(devicePixelRatio=1),this.width=devicePixelRatio*(this.opt.width||320),this.height=devicePixelRatio*(this.opt.height||100),this.MAX=this.height/2-4,this.dom=this.opt.dom,this.canvas=document.getElementById(this.opt.dom),this.canvas.width=this.width,this.canvas.height=this.height,this.canvas.style.width=this.width/devicePixelRatio+"px",this.canvas.style.height=this.height/devicePixelRatio+"px",this.canvas.style.top=115*(1-this.opt.value1/this.opt.valuemax1)+"px",this.ctx=this.canvas.getContext("2d"),this.run=!1;var i=$('<div class="value-main"><p style="color:#d4e7ff;font-size: 14px;"><span>'+t.years+'</span>年总产量：<span style="font-size: 14px;color: #ff9f49">'+t.percent+'%</span ><span style="font-size: 14px;color: #ff9f49" class="wave1-percent">↑</span></p><p style="font-size: 16px;color: #79cbfb"><span style="font-size: 44px;color: #41f8ff">'+t.value1+"</span>万吨</p></div>");i.css({position:"absolute",right:"30%",top:"10%",zIndex:0,opacity:"0.8"}),t.percent>=0?i.find(".wave1-percent").text("↑"):i.find(".wave1-percent").text("↓"),$(".canvasDivLeft-main").append(i)}s.prototype={_globalAttenuationFn:function(t){return Math.pow(3*this.K/(4*this.K+Math.pow(t,4)),this.K)},_drawLine:function(t,i,s){this.ctx.moveTo(0,0),this.ctx.beginPath(),this.ctx.strokeStyle=i,this.ctx.lineWidth=s||1,this.ctx.shadowOffsetX=0,this.ctx.shadowOffsetY=5,this.ctx.shadowBlur=30,this.ctx.shadowColor="#000";for(var e=-this.K;e<=this.K;e+=.01){var h=this.width*(e/this.K),o=this.height/2+this.noise*this._globalAttenuationFn(e)*(1/t)*Math.sin(this.F*e+this.phase);this.ctx.lineTo(h,o)}this.ctx.stroke()},_clear:function(){this.ctx.globalCompositeOperation="destination-out",this.ctx.fillRect(0,0,this.width,this.height),this.ctx.globalCompositeOperation="source-over"},_draw:function(){this.run&&(this.phase=(this.phase+this.speed)%(64*Math.PI),this._clear(),this._drawLine(1,"rgba(3,201,227,0.6)",1),requestAnimationFrame(this._draw.bind(this),1e3))},start:function(t){this.phase=0,this.run=!0,this._draw(t)},stop:function(){this.run=!1,this._clear()},setNoise:function(t){this.noise=Math.min(t,1)*this.MAX},setSpeed:function(t){this.speed=t},set:function(t,i){this.setNoise(t),this.setSpeed(i)}},t.exports=s},function(t,i){function s(t){this.opt=t||{},this.K=2,this.F=6,this.speed=this.opt.speed||.1,this.noise=this.opt.noise||0,this.phase=this.opt.phase||0,this.top=this.opt.top||0,devicePixelRatio||(devicePixelRatio=1),this.width=devicePixelRatio*(this.opt.width||320),this.height=devicePixelRatio*(this.opt.height||100),this.MAX=this.height/2-4,this.canvas=document.getElementById(this.opt.dom),this.canvas.width=this.width,this.canvas.height=this.height,this.canvas.style.width=this.width/devicePixelRatio+"px",this.canvas.style.height=this.height/devicePixelRatio+"px",this.canvas.style.top=115*(1-this.opt.value2/this.opt.valuemax2)+"px",this.ctx=this.canvas.getContext("2d"),this.run=!1;var i=$('<div class="value-main"><p style="color:#d4e7ff;font-size: 14px;"><span>'+t.years+'</span>年国内消费量：<span style="font-size: 14px;color: #ff9f49">'+t.percent+'%</span ><span style="font-size: 14px;color: #ff9f49" class="wave2-percent">↑</span></p><p style="font-size: 16px;color: #79cbfb"><span style="font-size: 44px;color: #fcff00">'+t.value2+"</span>万吨</p></div>");i.css({position:"absolute",left:"30%",top:"10%",zIndex:0,opacity:"0.8"}),t.percent>=0?i.find(".wave2-percent").text("↑"):i.find(".wave2-percent").text("↓"),$(".canvasDivRight-main").append(i)}s.prototype={_globalAttenuationFn:function(t){return Math.pow(3*this.K/(4*this.K+Math.pow(t,4)),this.K)},_drawLine:function(t,i,s){this.ctx.moveTo(0,0),this.ctx.beginPath(),this.ctx.strokeStyle=i,this.ctx.lineWidth=s||1,this.ctx.shadowOffsetX=0,this.ctx.shadowOffsetY=5,this.ctx.shadowBlur=30,this.ctx.shadowColor="#000";for(var e=-this.K;e<=this.K;e+=.01){var h=this.width*((e+this.K)/this.K),o=this.height/2+this.noise*this._globalAttenuationFn(e)*(1/t)*Math.sin(this.F*e-this.phase);this.ctx.lineTo(h,o)}this.ctx.stroke()},_clear:function(){this.ctx.globalCompositeOperation="destination-out",this.ctx.fillRect(0,0,this.width,this.height),this.ctx.globalCompositeOperation="source-over"},_draw:function(t){this.run&&(this.phase=(this.phase+this.speed)%(64*Math.PI),this._clear(),this._drawLine(1,"rgba(147,222,90,0.6)",1),requestAnimationFrame(this._draw.bind(this),1e3))},start:function(t){this.phase=0,this.run=!0,this._draw(t)},stop:function(){this.run=!1,this._clear()},setNoise:function(t){this.noise=Math.min(t,1)*this.MAX},setSpeed:function(t){this.speed=t},set:function(t,i){this.setNoise(t),this.setSpeed(i)}},t.exports=s}])});